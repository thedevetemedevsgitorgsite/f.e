const cartToggle=document.querySelector(".top-btn.cart"),cartMenu=document.querySelector(".cart-items");cartToggle.addEventListener("click",(e=>{cartMenu.classList.toggle("hidden"),cartMenu.classList.contains("hidden")?cartToggle.innerHTML='<svg width="28" height="25" viewBox="0 0 24 24" fill="currentColor">\n  <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" />\n</svg>':cartToggle.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" \n     width="24" height="24" \n     viewBox="0 0 24 24" \n     fill="none" stroke="currentColor" \n     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n  <line x1="18" y1="6" x2="6" y2="18" />\n  <line x1="6" y1="6" x2="18" y2="18" />\n</svg>'}));const schForm=document.querySelector(".hero form"),tb=".eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnZ2xxdXllcGJienJkem1rcGZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwOTkyMjksImV4cCI6MjA3NDY3NTIyOX0.mT03kocvd2gMLu6y4VeYXQqcBKUPD5DKtku6HrRO7cA",schInp=document.querySelector(".hero form input"),comm=document.querySelector(".product"),proCard=comm.querySelectorAll(".card");proCard.forEach((e=>{const t=e.querySelector(".product-describe");e&&(e.querySelector(".buttons a").href=`#search?q=${encodeURIComponent(t.innerHTML.match(/#[\w-]+/)||"")}`,t.innerHTML=t.innerHTML.replace(/\#([\w\-]+)/g,"<a href='#search?q=$1' class='card-tag'>#$1</a>"),t.querySelectorAll(".card-tag").forEach((e=>{e.style.cssText='color: var(--primary-color);\n          font-family: "ADLaM Display", monospace;\n          text-decoration: none;'})))}));let noMatch=document.querySelector("#noMatch");noMatch||(noMatch=document.createElement("p"),noMatch.id="noMatch",noMatch.innerHTML='<img src="/assets/images/20250918_223801.png" width="40" height="40" style="margin-top: 10px;animation:spin-bor 2s ease-in-out infinite;border-radius: 50%;border: 1px solid var(--primary-color);border-right: 0;"><a href=""><button>Refresh</button></a> No matching results found.',noMatch.style.display="none",comm.appendChild(noMatch)),schInp.addEventListener("input",(()=>{filterCrips(schInp.value.trim().toUpperCase())})),window.addEventListener("hashchange",processSearchFromURL),document.querySelector(".hero form").addEventListener("submit",(e=>{e.preventDefault(),filterCrips(document.querySelector(".hero form input").value.toUpperCase())}));const cartBox=document.querySelector(".cart-items"),ta="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",tc=ta+tb,te="s",td="https://fgglquyepbbzrdzmkpfd.supabase.co";function toggleReport(){const e=document.getElementById("reportForm");e.style.display="flex"===e.style.display?"none":"flex"}function filterCrips(e){window.pageYOffset>=50&&window.scrollTo({top:0,behavior:"smooth"});const t=document.querySelectorAll(".product .card");let o=!1;t.forEach((t=>{t.innerText.toUpperCase().includes(e)?(t.style.display="",o=!0):t.style.display="none"})),noMatch.style.display=o?"none":"block"}function processSearchFromURL(){document.querySelector(".search-loader").style.display="flex",setTimeout((()=>{let e=new URLSearchParams(window.location.search).get("q");if(!e){const t=window.location.hash;if(t.startsWith("#search")){const o=t.split("?")[1];if(o){e=new URLSearchParams(o).get("q")}}}e&&(document.querySelector(".hero form input").value=decodeURIComponent(e),filterCrips(e.trim().toUpperCase())),document.querySelector(".search-loader").style.display="none"}),1500)}schForm.querySelector("button").addEventListener("click",(e=>{window.pageYOffset>=50&&window.scrollTo({top:0,behavior:"smooth"})})),document.getElementById("reportForm").addEventListener("submit",(async function(e){e.preventDefault();const t=e.target,o=new FormData(t);try{(await fetch("https://formspree.io/f/xqadrken",{method:"POST",body:o,headers:{Accept:"application/json"}})).ok?(cAlert("Report submitted for "+document.getElementById("popupName").textContent),t.reset(),t.state.display="none"):cAlert("Sorry, we couldn’t send your message. Please try again in a moment.")}catch(e){cAlert("⚠ Network error. The message may be delivered to the admins")}})),document.querySelector(".hero form input").addEventListener("invalid",(function(){this.setCustomValidity("Enter to search")})),document.querySelector(".hero  form input").addEventListener("input",(function(){this.setCustomValidity("")}));const alertEl=document.getElementById("customAlert"),overlayEl=document.getElementById("alertOverlay"),alertIcon=document.getElementById("alertIcon"),alertHeading=document.getElementById("alertHeading"),alertMsg=document.getElementById("alertMsg"),alertOk=document.getElementById("alertOk"),alertCancel=document.getElementById("alertCancel"),iconMap={info:{emoji:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>\n                            <path d="M12 8v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n                            <circle cx="12" cy="16" r="0.5" fill="currentColor" stroke="currentColor"/>\n                        </svg>',class:"info"},success:{emoji:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>\n                            <path d="M8.5 12.5L11 15l4.5-5.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                        </svg>',class:"success"},warning:{emoji:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M12 4l8 14H4L12 4z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n                            <path d="M12 10v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n                            <circle cx="12" cy="17" r="1.5" fill="currentColor"/>\n                        </svg>',class:"warning"},error:{emoji:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>\n                            <path d="M9 9l6 6M15 9l-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                        </svg>',class:"error"}};function cAlert(e,t="info",o="Notification",r=!1){const n=iconMap[t]||iconMap.info;alertMsg.textContent=e,alertHeading.textContent=o,alertIcon.innerHTML=n.emoji,alertIcon.className="alert-icon "+n.class,alertOk.className="alert-btn "+("error"===t?"danger":"success"===t?"success":"primary"),alertOk.textContent="error"===t&&r?"Delete":"Dismiss",alertCancel.style.display=r?"block":"none",overlayEl.classList.add("active"),alertEl.classList.add("active")}function closeAlert(){alertEl.classList.remove("active"),overlayEl.classList.remove("active")}alertOk.addEventListener("click",closeAlert),alertCancel.addEventListener("click",closeAlert),overlayEl.addEventListener("click",closeAlert),document.addEventListener("keydown",(e=>{"Escape"===e.key&&alertEl.classList.contains("active")&&closeAlert()}));const scrollBack=document.querySelector(".scroll-btn");window.addEventListener("scroll",(function(){window.pageYOffset>=300?scrollBack.classList.add("show"):scrollBack.classList.remove("show")})),scrollBack.addEventListener("click",(e=>{window.scrollTo({top:0,behavior:"smooth"})}));const preBtn=document.querySelectorAll(".top-list .list-item");preBtn.forEach((e=>{e.addEventListener("click",(e=>{preBtn.forEach((e=>e.classList.remove("blue"))),e.target.classList.add("blue")}))}));
