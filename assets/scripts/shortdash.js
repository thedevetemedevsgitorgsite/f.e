const te="supa",zipInput=document.getElementById("zipInput"),cor="ht",filename=document.querySelector(".file-name"),corAp="tps:";zipInput.onchange=function(){filename.textContent=zipInput.value};const sections={user:document.getElementById("user-section"),pen:document.getElementById("pen-section"),sales:document.getElementById("sales-section"),chart:document.getElementById("chart-section"),posts:document.getElementById("posts-section"),notify:document.getElementById("notify-section"),tips:document.getElementById("tips-section"),wallet:document.getElementById("wallet-section"),settings:document.getElementById("settings-section")},loadSection=document.querySelector(".section-load");function showSection(e){loadSection.classList.remove("hidden"),setTimeout((()=>{Object.values(sections).forEach((e=>e.classList?.add("hidden"))),sections[e]&&(sections[e].classList?.remove("hidden"),loadSection.classList.add("hidden"))}),700)}const preBtn=document.querySelectorAll(".side-list");window.addEventListener("hashchange",(e=>{let t=window.location.href.match(/#\/(settings|wallet|tips|notify|chart|user|pen|posts|sales)\/?/);t&&t[1]&&(preBtn.forEach((e=>e.classList.remove("active"))),document.querySelector(`.side-list.${t[1]}`)?.classList.add("active"),showSection(t[1]))})),window.addEventListener("load",(e=>{let t=window.location.href.match(/#\/(settings|wallet|tips|notify|chart|user|pen|posts|sales)\/?/);if(!t||!t[1])return;preBtn.forEach((e=>e.classList.remove("active"))),document.querySelector(`.side-list.${t[1]}`)?.classList.add("active"),showSection(t[1]);const n=new URLSearchParams(window.location.search),o=n.get("ttitle").trim(),c=n.get("ttext")?.trim(),l=n.get("tprice")?.trim(),a=n.get("timg")?.trim(),s=n.get("tpimg")?.trim();o&&(document.getElementById("cardName").value=o),c&&(document.getElementById("cardDes").value=c),l&&!isNaN(l)&&(document.getElementById("cardAmount").value=l),a&&(document.getElementById("cardCover").value=a),s&&(document.getElementById("cardView").value=s)}));const ta="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",tb=".eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnZ2xxdXllcGJienJkem1rcGZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwOTkyMjksImV4cCI6MjA3NDY3NTIyOX0.mT03kocvd2gMLu6y4VeYXQqcBKUPD5DKtku6HrRO7cA";document.querySelector(".btn.user").onclick=()=>window.location.href="#/user/",document.querySelector(".btn.pen").onclick=()=>window.location.href="#/pen/",document.querySelector(".btn.sales").onclick=()=>window.location.href="#/sales/",document.querySelector(".btn.chart").onclick=()=>window.location.href="#/chart/",document.querySelector(".btn.notify").onclick=()=>window.location.href="#/notify/",document.querySelector(".btn.tips").onclick=()=>window.location.href="#/tips/",document.querySelector(".btn.wallet").onclick=()=>window.location.href="#/wallet/",document.querySelector(".btn.settings").onclick=()=>window.location.href="#/settings/";const themeBtn=document.querySelector(".theme-btn"),menuBtn=document.querySelector(".toggle-menu"),sideMenu=document.querySelector(".side-menu");themeBtn.addEventListener("click",(e=>{themeBtn.classList.toggle("moon"),document.documentElement.classList.toggle("dark-theme"),document.documentElement.classList.contains("dark-theme")?(themeBtn.querySelector("span.moon").style.width="34px",localStorage.setItem("theme","dark")):(themeBtn.querySelector("span.moon").style.width="0",localStorage.setItem("theme","light"))}));const td=decodeURIComponent("https:%2F%2Ffgglquyepbbzrdzmkpfd.supabase.co");function initializeTheme(){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===(e||(t?"dark":"light"))?(document.documentElement.classList.add("dark-theme"),themeBtn.querySelector("span.moon").style.width="34px"):(document.documentElement.classList.remove("dark-theme"),themeBtn.querySelector("span.moon").style.width="0")}"dark"===localStorage.getItem("theme")&&(document.documentElement.classList.add("dark-theme"),themeBtn.querySelector("span.moon").style.width="34px"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{localStorage.getItem("theme")||initializeTheme()})),menuBtn.addEventListener("click",(()=>{menuBtn.classList.toggle("back"),sideMenu.querySelectorAll(".side-menu .label").forEach((e=>{e.classList.toggle("hide")})),menuBtn.classList.contains("back")?sideMenu.style.maxWidth="8em":sideMenu.style.maxWidth="2.2em"})),document.querySelector("#toggleWithdraw")?.addEventListener("click",(e=>{document.querySelector("#withdrawForm").classList.toggle("hidden")})),cardCover.addEventListener("input",(function(){this.value?coverPreview.style.backgroundImage=`url(${this.value})`:(coverPreview.style.backgroundImage="none",coverPreview.style.backgroundColor="var(--gray)")})),cardView.addEventListener("input",(function(){this.value?mediaPreview.style.backgroundImage=`url(${this.value})`:(mediaPreview.style.backgroundImage="none",mediaPreview.style.backgroundColor="var(--gray)")})),cardDes.addEventListener("input",(function(){document.querySelector("#charCount").textContent=this.value.length})),preBtn.forEach((e=>{e.addEventListener("click",(e=>{preBtn.forEach((e=>{e.classList.remove("active"),e.parentElement?.classList?.remove("active")})),e.target.classList.add("active"),e.target.parentElement?.classList.add("active")}))}));const bioTextarea=document.getElementById("bio"),charCount=document.getElementById("bioCharCount");bioTextarea.addEventListener("input",(function(){charCount.textContent=this.value.length})),document.getElementById("toggle-edit").addEventListener("click",(e=>{document.getElementById("edit-profile").classList.toggle("hidden"),e.target.classList.toggle("rotate"),e.target.parentElement.classList.toggle("rotate")})),document.getElementById("toggleAccountForm").addEventListener("click",(e=>{document.getElementById("accountForm").classList.toggle("hidden"),e.target.classList.toggle("rotate"),e.target.parentElement.classList.toggle("rotate")}));const tc=ta+tb;document.getElementById("toggleNotifyForm").addEventListener("click",(e=>{document.getElementById("notifyForm").classList.toggle("hidden")})),window.animetNum=function(){document.querySelectorAll(".contain-number").forEach((e=>{const t=e.textContent.replace(/[^0-9.]/g,""),n=parseFloat(t);if(isNaN(n))return;let o=0;const c=n/50,l=setInterval((()=>{o+=c,o>=n&&(clearInterval(l),o=n),e.textContent=e.textContent.replace(/[0-9,.]+/,o.toLocaleString(void 0,{minimumFractionDigits:t.includes(".")?2:0,maximumFractionDigits:2}))}),30)}))};const alertEl=document.getElementById("customAlert"),overlayEl=document.getElementById("alertOverlay"),alertIcon=document.getElementById("alertIcon"),alertHeading=document.getElementById("alertHeading"),alertMsg=document.getElementById("alertMsg"),alertOk=document.getElementById("alertOk"),alertCancel=document.getElementById("alertCancel"),iconMap={info:{emoji:"ℹ️",class:"info"},success:{emoji:"✅",class:"success"},warning:{emoji:"⚠️",class:"warning"},error:{emoji:"❌",class:"error"}};function cAlert(e,t="info",n="Notification",o=!1){const c=iconMap[t]||iconMap.info;alertMsg.textContent=e,alertHeading.textContent=n,alertIcon.textContent=c.emoji,alertIcon.className="alert-icon "+c.class,alertOk.className="alert-btn "+("error"===t?"danger":"success"===t?"success":"primary"),alertOk.textContent="error"===t&&o?"Delete":"OK",alertCancel.style.display=o?"block":"none",overlayEl.classList.add("active"),alertEl.classList.add("active")}function closeAlert(){alertEl.classList.remove("active"),overlayEl.classList.remove("active")}alertOk.addEventListener("click",closeAlert),alertCancel.addEventListener("click",closeAlert),overlayEl.addEventListener("click",closeAlert),document.addEventListener("keydown",(e=>{"Escape"===e.key&&alertEl.classList.contains("active")&&closeAlert()})),document.querySelector("footer .footer-bottom p:first-child").innerHTML=`&copy; ${(new Date).getFullYear()} - DevTemple. All Rights Reserved.`;
